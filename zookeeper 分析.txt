zookeeper 分析

zk 配置
	# The number of milliseconds of each tick
	tickTime=2000
	# The number of ticks that the initial 
	# synchronization phase can take
	initLimit=10
	# The number of ticks that can pass between 
	# sending a request and getting an acknowledgement
	syncLimit=5
	# the directory where the snapshot is stored.
	# do not use /tmp for storage, /tmp here is just 
	# example sakes.
	dataDir=/opt/data/zookeeper
	# the port at which the clients will connect
	clientPort=2181
	# the maximum number of client connections.
	# increase this if you need to handle more clients
	maxClientCnxns=0


	#server.4=10.1.21.109:2887:3887
	#server.5=10.1.21.110:2887:3887
	#server.6=10.1.21.111:2887:3887
	server.7=10.1.21.200:2887:3887  
	server.8=10.1.21.201:2887:3887
	server.9=10.1.21.202:2887:3887
	#
	# Be sure to read the maintenance section of the 
	# administrator guide before turning on autopurge.
	#
	# http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance
	#
	# The number of snapshots to retain in dataDir
	#autopurge.snapRetainCount=3
	# Purge task interval in hours
	# Set to "0" to disable auto purge feature
	#autopurge.purgeInterval=1

zk lock的使用
http://blog.csdn.net/zmx729618/article/details/62417330